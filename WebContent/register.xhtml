<ui:composition template="/WEB-INF/xhtml/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:define name="title">
		<h:outputText value="#{text['dvd_store.name']}" /> - Register</ui:define>
	<ui:define name="header" />
	<ui:define name="h1">
		<h1 style="text-align: center">
			Register to
			<h:outputText value="#{text['dvd_store.name']}" />
		</h1>
	</ui:define>
	<ui:define name="content">
		<h:form id="registration_form" style="margin: 0 auto">
			<h:panelGrid columns="3">
				<h:outputLabel for="username">Username</h:outputLabel>
				<h:inputText id="username" value="#{userController.user.username}"
					redisplay="true">
					<f:validator binding="#{userController$UniqueUsernameValidator}" />
					<f:ajax event="blur" render="usernameMessage" />
				</h:inputText>
				<h:message id="usernameMessage" for="username" />
				<h:outputLabel for="password">Password</h:outputLabel>
				<h:inputSecret id="password" value="#{userController.user.password}"
					redisplay="true">
					<f:ajax event="blur" render="passwordMessage" />
				</h:inputSecret>
				<h:message id="passwordMessage" for="password" />
				<h:outputLabel for="name">Name</h:outputLabel>
				<h:inputText id="name" value="#{userController.user.name}"
					redisplay="true">
					<f:ajax event="blur" render="nameMessage" />
				</h:inputText>
				<h:message id="nameMessage" for="name" />
				<h:outputLabel for="surname">Surname</h:outputLabel>
				<h:inputText id="surname" value="#{userController.user.surname}"
					redisplay="true">
					<f:ajax event="blur" render="surnameMessage" />
				</h:inputText>
				<h:message id="surnameMessage" for="surname" />
				<h:outputLabel for="email">Email</h:outputLabel>
				<h:inputText id="email" value="#{userController.user.email}">
					<f:ajax event="blur" render="emailMessage" />
				</h:inputText>
				<h:message id="emailMessage" for="email" />
				<h:outputLabel for="birthdate">Birthdate (yyyy-MM-dd)</h:outputLabel>
				<h:inputText id="birthdate" value="#{userController.user.birthdate}"
					converterMessage="Please enter date in yyyy-MM-dd format">
					<f:convertDateTime pattern="yyyy-MM-dd" />
					<f:ajax event="blur" render="birthdateMessage" />
				</h:inputText>
				<h:message id="birthdateMessage" for="birthdate" />
				<h:outputLabel for="phone">Phone</h:outputLabel>
				<h:inputText id="phone" value="#{userController.user.phoneNumber}">
					<f:ajax event="blur" render="phoneMessage" />
				</h:inputText>
				<h:message id="phoneMessage" for="phone" />
				<h:panelGroup /><!-- ? -->
				<a href="index.xhtml">Home</a>
				<h:commandButton value="Register"
					action="#{userController.register}">
					<f:ajax execute="@form" render="@form" />
				</h:commandButton>
			</h:panelGrid>
			<h:messages infoStyle="color:darkgreen" globalOnly="true" layout="table" />
		</h:form>
	</ui:define>
</ui:composition>
